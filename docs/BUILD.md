# æ‰“åŒ…æˆåŸ·è¡Œæª”æŒ‡å—

æœ¬æ–‡ä»¶èªªæ˜å¦‚ä½•å°‡ã€Œå¼˜çˆºæ¼¢å ¡ AI è¡ŒéŠ·åŠ©æ‰‹ã€æ‰“åŒ…æˆç¨ç«‹çš„æ¡Œé¢åŸ·è¡Œæª”ã€‚

## ğŸ“¦ æ‰“åŒ…æ–¹å¼

### æ–¹å¼ 1ï¼šè‡ªå‹•æ‰“åŒ…ï¼ˆæ¨è–¦ï¼‰

#### Windows:
```bash
build.bat
```

#### Linux/Mac:
```bash
chmod +x build.sh
./build.sh
```

### æ–¹å¼ 2ï¼šæ‰‹å‹•æ‰“åŒ…

1. **å®‰è£æ‰“åŒ…å·¥å…·ï¼š**
```bash
pip install pyinstaller
```

2. **åŸ·è¡Œæ‰“åŒ…è…³æœ¬ï¼š**
```bash
python build_exe.py
```

3. **æˆ–ä½¿ç”¨ spec æª”æ¡ˆï¼š**
```bash
pyinstaller roaddy.spec
```

## ğŸ“ è¼¸å‡ºæª”æ¡ˆ

æ‰“åŒ…å®Œæˆå¾Œæœƒåœ¨ `dist/` ç›®éŒ„ç”¢ç”Ÿï¼š

```
dist/
â”œâ”€â”€ å¼˜çˆºæ¼¢å ¡AIè¡ŒéŠ·åŠ©æ‰‹.exe        # Windows åŸ·è¡Œæª”
â”œâ”€â”€ å¼˜çˆºæ¼¢å ¡AIè¡ŒéŠ·åŠ©æ‰‹             # Linux/Mac åŸ·è¡Œæª”
â””â”€â”€ portable/                      # å¯æ”œå¼ç‰ˆæœ¬
    â”œâ”€â”€ .env.example
    â”œâ”€â”€ config/
    â”‚   â””â”€â”€ config.yaml
    â”œâ”€â”€ README.md
    â””â”€â”€ ä½¿ç”¨èªªæ˜.txt
```

## ğŸš€ ä½¿ç”¨æ‰“åŒ…å¾Œçš„ç¨‹å¼

### æ­¥é©Ÿ 1ï¼šæº–å‚™ç’°å¢ƒ
1. è¤‡è£½ `.env.example` ç‚º `.env`
2. ç·¨è¼¯ `.env`ï¼Œå¡«å…¥ Anthropic API Keyï¼š
   ```env
   ANTHROPIC_API_KEY=sk-ant-api03-ä½ çš„é‡‘é‘°
   ```

### æ­¥é©Ÿ 2ï¼šåŸ·è¡Œç¨‹å¼
- **Windows**: é›™æ“Š `å¼˜çˆºæ¼¢å ¡AIè¡ŒéŠ·åŠ©æ‰‹.exe`
- **Linux/Mac**: 
  ```bash
  chmod +x å¼˜çˆºæ¼¢å ¡AIè¡ŒéŠ·åŠ©æ‰‹
  ./å¼˜çˆºæ¼¢å ¡AIè¡ŒéŠ·åŠ©æ‰‹
  ```

## âš™ï¸ è‡ªè¨‚æ‰“åŒ…é¸é …

### ä¿®æ”¹ roaddy.spec æª”æ¡ˆ

```python
# ä¿®æ”¹åœ–ç¤º
icon='ä½ çš„åœ–ç¤º.ico'

# éš±è—å‘½ä»¤åˆ—è¦–çª—ï¼ˆåƒ… Windowsï¼‰
console=False  # True=é¡¯ç¤º, False=éš±è—

# æ·»åŠ é¡å¤–æª”æ¡ˆ
datas=[
    ('ä½ çš„æª”æ¡ˆ', 'ç›®æ¨™è·¯å¾‘'),
]
```

### æ‰“åŒ…é¸é …èªªæ˜

| é¸é … | èªªæ˜ |
|------|------|
| `--onefile` | æ‰“åŒ…æˆå–®ä¸€åŸ·è¡Œæª” |
| `--windowed` | ç„¡å‘½ä»¤åˆ—è¦–çª—ï¼ˆGUI æ¨¡å¼ï¼‰|
| `--console` | é¡¯ç¤ºå‘½ä»¤åˆ—è¦–çª—ï¼ˆCLI æ¨¡å¼ï¼‰|
| `--icon` | è‡ªè¨‚ç¨‹å¼åœ–ç¤º |
| `--name` | åŸ·è¡Œæª”åç¨± |
| `--add-data` | åŒ…å«é¡å¤–è³‡æ–™æª”æ¡ˆ |
| `--hidden-import` | æŒ‡å®šéš±è—å°å…¥çš„æ¨¡çµ„ |

## ğŸ“Š æ‰“åŒ…å¾Œæª”æ¡ˆå¤§å°

é ä¼°å¤§å°ï¼š
- **Windows exe**: ç´„ 30-50 MB
- **Linux åŸ·è¡Œæª”**: ç´„ 35-55 MB
- **Mac app**: ç´„ 40-60 MB

é¦–æ¬¡åŸ·è¡Œæœƒè¼ƒæ…¢ï¼Œå¾ŒçºŒæœƒå¿«é€Ÿå•Ÿå‹•ã€‚

## ğŸ”§ å¸¸è¦‹å•é¡Œ

### Q1: æ‰“åŒ…å¾ŒåŸ·è¡Œå‡ºéŒ¯

**è§£æ±ºæ–¹æ³•ï¼š**
1. æª¢æŸ¥ `.env` æª”æ¡ˆæ˜¯å¦åœ¨åŸ·è¡Œæª”åŒç›®éŒ„
2. ç¢ºèª `config/` è³‡æ–™å¤¾æ˜¯å¦å­˜åœ¨
3. ä½¿ç”¨ `--debug` æ¨¡å¼é‡æ–°æ‰“åŒ…æª¢æŸ¥éŒ¯èª¤

### Q2: æª”æ¡ˆå¤ªå¤§

**è§£æ±ºæ–¹æ³•ï¼š**
```bash
# ä½¿ç”¨ UPX å£“ç¸®
pip install pyinstaller[compression]
pyinstaller --upx-dir=/path/to/upx roaddy.spec
```

### Q3: æ®ºæ¯’è»Ÿé«”èª¤å ±

**è§£æ±ºæ–¹æ³•ï¼š**
- é€™æ˜¯ PyInstaller å¸¸è¦‹å•é¡Œ
- å°‡åŸ·è¡Œæª”åŠ å…¥ä¿¡ä»»æ¸…å–®
- æˆ–ä½¿ç”¨ç¨‹å¼ç¢¼ç°½ç« ï¼ˆéœ€è³¼è²·æ†‘è­‰ï¼‰

### Q4: ç„¡æ³•è¼‰å…¥æ¨¡çµ„

**è§£æ±ºæ–¹æ³•ï¼š**
åœ¨ `roaddy.spec` ä¸­æ·»åŠ ç¼ºå°‘çš„æ¨¡çµ„ï¼š
```python
hiddenimports=[
    'ç¼ºå°‘çš„æ¨¡çµ„åç¨±',
]
```

## ğŸ¨ æ·»åŠ è‡ªè¨‚åœ–ç¤º

1. **æº–å‚™åœ–ç¤ºæª”æ¡ˆï¼š**
   - Windows: `.ico` æ ¼å¼ï¼ˆ256x256ï¼‰
   - Mac: `.icns` æ ¼å¼
   - Linux: `.png` æ ¼å¼

2. **æ”¾ç½®åœ–ç¤ºï¼š**
   ```bash
   # å°‡åœ–ç¤ºæ”¾åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
   cp your-icon.ico icon.ico
   ```

3. **é‡æ–°æ‰“åŒ…ï¼š**
   ```bash
   python build_exe.py
   ```

## ğŸ“¤ åˆ†ç™¼åŸ·è¡Œæª”

### å»ºè­°åŒ…å«çš„æª”æ¡ˆï¼š
```
ç™¼è¡Œå¥—ä»¶/
â”œâ”€â”€ å¼˜çˆºæ¼¢å ¡AIè¡ŒéŠ·åŠ©æ‰‹.exe
â”œâ”€â”€ .env.example                 # ç¯„ä¾‹è¨­å®šæª”
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml
â”œâ”€â”€ README.md                    # ä½¿ç”¨èªªæ˜
â””â”€â”€ ä½¿ç”¨èªªæ˜.txt                 # å¿«é€Ÿé–‹å§‹æŒ‡å—
```

### å£“ç¸®åˆ†ç™¼ï¼š
```bash
# Windows
tar -a -c -f roaddy-v1.0-windows.zip dist/portable/*

# Linux/Mac
tar -czf roaddy-v1.0-linux.tar.gz dist/portable/*
```

## ğŸ” å®‰å…¨æ³¨æ„äº‹é …

âš ï¸ **é‡è¦ï¼š**
- ä¸è¦å°‡ `.env` æª”æ¡ˆï¼ˆå« API Keyï¼‰åŒ…å«åœ¨åˆ†ç™¼å¥—ä»¶ä¸­
- åªæä¾› `.env.example` ç¯„ä¾‹æª”æ¡ˆ
- æé†’ä½¿ç”¨è€…è‡ªè¡Œå¡«å…¥ API Key

## ğŸš¢ é€²éšï¼šDocker å®¹å™¨åŒ–

å¦‚æœéœ€è¦è·¨å¹³å°åˆ†ç™¼ï¼Œå»ºè­°ä½¿ç”¨ Dockerï¼š

```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY . .
RUN pip install -r requirements.txt
CMD ["python", "src/main.py"]
```

è©³è¦‹ `.github/copilot-instructions.md` çš„éƒ¨ç½²ç« ç¯€ã€‚

## ğŸ“ æŠ€è¡“æ”¯æ´

å¦‚æœ‰æ‰“åŒ…å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š
1. Python ç‰ˆæœ¬ >= 3.8
2. æ‰€æœ‰ä¾è³´å·²å®‰è£
3. PyInstaller ç‰ˆæœ¬ >= 5.0

æˆ–åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼š
- PyInstaller: https://pyinstaller.org/
- æ‰“åŒ…å•é¡Œæ’æŸ¥: https://github.com/pyinstaller/pyinstaller/wiki
